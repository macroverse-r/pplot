% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pp_plot_bar.r
\name{pp_plot_bar}
\alias{pp_plot_bar}
\title{Create Bar Plots with Statistical Indicators}
\usage{
pp_plot_bar(
  data,
  y_axis = NULL,
  type = "Mean",
  order = "Variable",
  show_values = "Bottom",
  show_year = 1,
  show_range = TRUE,
  show_median = TRUE,
  color = "Subregion",
  filename = NULL,
  print = TRUE,
  legend = TRUE,
  reference = TRUE,
  title = NULL,
  subtitle = NULL,
  subfig_title = TRUE,
  verbose = TRUE,
  debug = FALSE,
  size = NULL,
  theme = list(base_size = 14),
  title_scale = 1.15,
  title_face = "bold",
  subtitle_scale = 1,
  ref_scale = 1,
  bg = "transparent"
)
}
\arguments{
\item{data}{data.frame that must contain the following columns:
- ISO: ISO 3-letter country codes (required)
- Date: dates in Date format (required)
- Variable: indicator names (required)
- Value: numeric values (required)
- Country: country names (optional, auto-generated from ISO if missing)
- Reference: source citations (required if reference=TRUE)}

\item{y_axis}{Single string, TRUE, FALSE, or NULL:
- String: y-axis label
- TRUE: use Variable name as label
- FALSE/NULL: no axis label}

\item{type}{Controls which value to display:
- "Mean": average over time period (default)
- "Last": most recent value
Statistical indicators (range, median) adjust accordingly.}

\item{order}{Controls bar ordering:
- "Variable": order by value (default)
- "Alphabetical": order by country name
- "Input": order based on the order in data
- Numeric: order by nth variable (for multi-indicator plots)
- TRUE: same as "Variable"
- FALSE: same as "Alphabetical"}

\item{show_values}{Controls value label position:
- "Bottom": labels below bars
- "Top": labels above bars
- FALSE: no labels
Default is "Bottom".}

\item{show_year}{Controls year display in labels:
- 0: no year
- 1: short year format (YY)
- 2: full year format (YYYY)
Only applies when type="Last". Default is 1.}

\item{show_range}{Logical; whether to show min-max range:
- TRUE: adds range indicators
- FALSE: no range indicators
Default is TRUE.}

\item{show_median}{Logical; whether to show median value:
- TRUE: adds median markers when type="Mean"
- FALSE: no median markers
- Ignored when type="Last"
Default is TRUE.}

\item{color}{Controls bar coloring scheme:
For single indicator:
- "Subregion": colors by geographical subregion (default)
- "Region": colors by continent/major region
- "Center-Periphery": colors by economic classification
- "Hydrocarbon": colors by hydrocarbon exporter/importer status
For multiple indicators:
- "Variable": different color per indicator
- FALSE/NULL: gray bars}

\item{filename}{Character string for saving plots:
- Specify name without extension
- Plots saved as both PNG and PDF in 'img/' directory
- NULL/FALSE for no file output}

\item{print}{Logical; controls plot display:
- TRUE: displays the plot
- FALSE: creates but doesn't display the plot
Default is TRUE.}

\item{legend}{Logical; controls legend display:
- TRUE: includes a legend
- FALSE: omits the legend
Default is TRUE.}

\item{reference}{Logical; controls reference panel:
- TRUE: includes reference citations panel (requires Reference column)
- FALSE: omits reference panel
Default is TRUE.}

\item{title}{Character string for main plot title:
- NULL/FALSE for no title}

\item{subtitle}{Character string for plot subtitle:
- NULL/FALSE for no subtitle}

\item{subfig_title}{For future use; currently ignored.}

\item{verbose}{Logical; controls information messages:
- TRUE: prints processing information
- FALSE: suppresses information messages
Default is TRUE.}

\item{debug}{Logical; controls debugging output:
- TRUE: prints detailed debugging information
- FALSE: suppresses debugging information
Default is FALSE.}

\item{size}{Numeric or NULL; controls plot dimensions:
- 1: small (10x7 inches)
- 2: medium (15x7 inches)
- 3: large (15x10 inches)
- 4: extra large (20x10 inches)
- NULL: auto-sizes based on data}

\item{theme}{List}

\item{bg}{character; controls plot background color:
- "transparent": transparent background (default)
- Any valid color string: sets background to that color}
}
\value{
A ggplot2 object containing the bar plot
}
\description{
Creates bar plots for comparing values across countries, with support for mean or latest values,
statistical indicators (range, median), and various visual customizations including
color grouping and value labels. The function automatically determines the most appropriate
plot type based on the number of indicators and specified parameters.
}
\details{
The function automatically selects the appropriate plotting implementation based on
the number of indicators:
\itemize{
\item Single indicator:
\itemize{
\item Simple bar plot with optional color grouping
\item Statistical indicators (range, median)
\item Flexible value and year labeling
}
\item Multiple indicators:
\itemize{
\item Grouped bar plot
\item Color-coded by indicator
\item Consistent statistical indicators across groups
}
}

The function includes multiple features for customization:
\itemize{
\item Automatic axis scaling and formatting
\item Flexible ordering options
\item Statistical annotations
\item Reference panel for data sources
\item Consistent theme across all variations
}
}
\examples{
# Basic bar plot with single indicator
data <- data.frame(
  Date = rep(seq(as.Date("2000-01-01"), as.Date("2020-01-01"), by = "year"), 3),
  ISO = rep(c("FRA", "DEU", "ITA"), each = 21),
  Variable = "GDP Growth",
  Value = rnorm(63, 2, 0.5),
  Reference = "World Bank"
)
pp_plot_bar(data, y_axis = "Percent")

# Bar plot with mean values and all statistical indicators
pp_plot_bar(data,
           type = "Mean",
           show_range = TRUE,
           show_median = TRUE,
           color = "Region")

# Latest values with year labels
pp_plot_bar(data,
           type = "Last",
           show_year = 2,
           order = "Alphabetical")

# Multiple indicators
data_multi <- data.frame(
  Date = rep(seq(as.Date("2000-01-01"), as.Date("2020-01-01"), by = "year"), 6),
  ISO = rep(rep(c("FRA", "DEU", "ITA"), each = 21), 2),
  Variable = rep(c("GDP Growth", "Inflation"), each = 63),
  Value = rnorm(126, 2, 0.5),
  Reference = "World Bank"
)
pp_plot_bar(data_multi,
           order = 1,  # Order by first indicator
           show_values = "Top")

}
\seealso{
\code{\link{pp_plot_series}} for time series plots
\code{\link{pp_plot_scatter}} for scatter plots
\code{\link{isomapper::im_from_iso}} for ISO code to country name conversion

Other plotting functions: 
\code{\link{pp_plot_combine}()},
\code{\link{pp_plot_scatter}()},
\code{\link{pp_plot_series}()}
}
\concept{plotting functions}
