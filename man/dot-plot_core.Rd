% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot-core.r, R/utils-core.r
\name{.plot_core}
\alias{.plot_core}
\title{Core Internal Plotting Function}
\usage{
.plot_core(
  data,
  y_axis = NULL,
  plot_type = "series",
  filename = NULL,
  print = TRUE,
  legend = TRUE,
  reference = TRUE,
  title = NULL,
  subtitle = NULL,
  subfig_title = TRUE,
  verbose = TRUE,
  debug = FALSE,
  size = NULL,
  theme = NULL,
  bg = "transparent",
  title_scale = 1.15,
  title_face = "bold",
  subtitle_scale = 1,
  ref_scale = 1,
  ...
)

.plot_core(
  data,
  y_axis = NULL,
  plot_type = "series",
  filename = NULL,
  print = TRUE,
  legend = TRUE,
  reference = TRUE,
  title = NULL,
  subtitle = NULL,
  subfig_title = TRUE,
  verbose = TRUE,
  debug = FALSE,
  size = NULL,
  theme = NULL,
  bg = "transparent",
  title_scale = 1.15,
  title_face = "bold",
  subtitle_scale = 1,
  ref_scale = 1,
  ...
)
}
\arguments{
\item{data}{data.frame that must contain the following columns:
- ISO: ISO 3-letter country codes
- Date: dates in Date format
- Variable: indicator names
- Value: numeric values
- Country: country names (optional, auto-generated from ISO if missing)
- Reference: source citations (optional)}

\item{y_axis}{string/vector/TRUE/FALSE/NULL; axis labels configuration}

\item{plot_type}{string; type of plot to create:
- "series": time series plot
- "bar": bar plot
- "scatter": scatter plot}

\item{filename}{string/NULL; output filename without extension:
- If provided, saves plot as PNG and PDF
- NULL for no file output}

\item{print}{logical; whether to display the plot}

\item{legend}{logical; whether to include legend panel}

\item{reference}{logical; whether to include references panel}

\item{title}{string/NULL; main title text}

\item{subtitle}{string/NULL; subtitle text}

\item{subfig_title}{logical/character; control subplot titles:
- TRUE: auto-generate titles
- Character vector: custom titles
- FALSE: no titles}

\item{verbose}{logical; control information messages}

\item{debug}{logical; control debugging output}

\item{size}{numeric/NULL; plot size preset:
- 1: small (10x7 inches)
- 2: medium (15x7 inches)
- 3: large (15x10 inches)
- 4: extra large (20x10 inches)
- NULL: auto-size based on data}

\item{theme}{list}

\item{bg}{character; controls plot background color:
- "transparent": transparent background (default)
- Any valid color string: sets background to that color}

\item{...}{Additional arguments passed to specific plotting functions}
}
\value{
ggplot2 object containing the complete plot

ggplot2 object containing the complete plot
}
\description{
Internal function that handles the common plotting functionality across all plot types.
This function manages the overall plot creation process, including data preprocessing,
plot type selection, panel creation, legend handling, and output management.

Internal function that handles the common plotting functionality across all plot types.
This function manages the overall plot creation process, including data preprocessing,
plot type selection, panel creation, legend handling, and output management.
}
\details{
This function serves as the central coordinator for all plotting operations:
\enumerate{
\item Data Preprocessing:
\itemize{
\item Validates and normalizes input data
\item Converts dates to proper format
\item Handles missing/optional columns
}
\item Plot Type Selection:
\itemize{
\item Determines appropriate plotting function based on plot_type and data structure
\item Filters and validates type-specific arguments
}
\item Panel Management:
\itemize{
\item Creates main plot panel
\item Adds legend panel if requested
\item Adds references panel if requested
\item Manages panel layout and dimensions
}
\item Output Handling:
\itemize{
\item Controls plot display
\item Manages file output in multiple formats
\item Handles plot dimensions
}
}

The function maintains consistent styling and behavior across all plot types
while allowing for type-specific customizations through the ... argument.

This function serves as the central coordinator for all plotting operations:
\enumerate{
\item Data Preprocessing:
\itemize{
\item Validates and normalizes input data
\item Converts dates to proper format
\item Handles missing/optional columns
}
\item Plot Type Selection:
\itemize{
\item Determines appropriate plotting function based on plot_type and data structure
\item Filters and validates type-specific arguments
}
\item Panel Management:
\itemize{
\item Creates main plot panel
\item Adds legend panel if requested
\item Adds references panel if requested
\item Manages panel layout and dimensions
}
\item Output Handling:
\itemize{
\item Controls plot display
\item Manages file output in multiple formats
\item Handles plot dimensions
}
}

The function maintains consistent styling and behavior across all plot types
while allowing for type-specific customizations through the ... argument.
}
\note{
This is an internal function not meant to be called directly by users.
Use the public pp_plot_* functions instead.

This is an internal function not meant to be called directly by users.
Use the public pp_plot_* functions instead.
}
\seealso{
\code{\link{pp_plot_series}}
\code{\link{pp_plot_bar}}
\code{\link{pp_plot_scatter}}

\code{\link{pp_plot_series}}
\code{\link{pp_plot_bar}}
\code{\link{pp_plot_scatter}}
}
\keyword{internal}
